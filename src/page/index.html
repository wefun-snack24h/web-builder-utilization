<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
    * {
      margin: 0;
      padding: 0;
    }

    .modules {
      max-width: 1100px;
      min-height: 100vh;
      margin: 0 auto;
      display: flex;
      flex-flow: column;
      row-gap: 35px;
    }

    .module {
      display: flex;
      width: 100%;
      column-gap: 20px;
    }

    .module__form {
      display: flex;
      width: 45%;
      flex-direction: column;
      gap: 16px;
    }

    .module__code {
      flex: 1;
      display: flex;
      justify-content: center;
      flex-flow: column;
    }

    .form-label {
      display: inline-block;
      font-weight: 700;
      padding-bottom: 5px;
    }

    .form-desc {
      font-size: 14px;
      color: #8f8f8f;
      padding-bottom: 5px;
    }

    .form-label-wrap {
      display: flex;
      align-items: center;
    }

    strong {
      display: block;
      padding-bottom: 5px;
    }

    button {
      padding: 5px;
    }

    textarea {
      resize: none;
      height: 100%;
      border-bottom: none;
      padding: 10px;
    }

    input[type=text] {
      width: calc(100% - 25px);
      height: 25px;
      padding: 0 10px;
    }

    h1 {
      margin: 50px 0 20px;
    }

    hr {
      margin: 35px 0;
    }
  </style>
</head>
<body>
<div>
  <div class="modules">
    <h1>ì½”ë“œ ìƒì„±í•˜ê¸° âœŒğŸ»</h1>
    <!-- tagging -->
    <div class="module">
      <div class="module__form">
        <h2>[GA]</h2>
        <div>
          <strong>ìœ„ì¹˜</strong>
          <input type="radio" id="position-a" value="ìƒë‹¨" name="position" checked/>
          <label for="position-a">ìƒë‹¨</label>
          <input type="radio" id="position-b" value="ë©”ì¸" name="position"/>
          <label for="position-b">ë©”ì¸</label>
          <input type="radio" id="position-c" value="ì¤‘ê°„" name="position"/>
          <label for="position-c">ì¤‘ê°„</label>
          <input type="radio" id="position-d" value="í”Œë¡œíŒ…" name="position"/>
          <label for="position-d">í”Œë¡œíŒ…</label>
          <input type="radio" id="position-e" value="í•˜ë‹¨" name="position"/>
          <label for="position-e">í•˜ë‹¨</label>
        </div>
        <div>
          <strong>ë²„íŠ¼ëª…</strong>
          <input type="radio" id="button-a" value="ë¬´ë£Œ ìƒë‹´í•˜ê¸°" name="button" checked/>
          <label for="button-a">ë¬´ë£Œ ìƒë‹´í•˜ê¸°</label>
          <input type="radio" id="button-b" value="5ì´ˆ ë§Œì— ìƒë‹´ë°›ê¸°" name="button"/>
          <label for="button-b">5ì´ˆ ë§Œì— ìƒë‹´ë°›ê¸°</label>
          <input type="radio" id="button-d" value="ë¬´ë£Œ ìƒë‹´ ì‹ ì²­" name="button"/>
          <label for="button-d">ë¬´ë£Œ ìƒë‹´ ì‹ ì²­</label>
          <input type="radio" id="button-e" value="ìƒë‹´ ì‹ ì²­í•˜ê¸°" name="button"/>
          <label for="button-e">ìƒë‹´ ì‹ ì²­í•˜ê¸°</label>
          <br/>
          <input type="radio" id="button-c" value="ì†Œê°œì„œ ë°›ê¸°" name="button"/>
          <label for="button-c">ì†Œê°œì„œ ë°›ê¸°</label>
        </div>
        <div>
          <span class="form-label">ì„œë¹„ìŠ¤ëª…</span> <input type="text" id="service"/>
        </div>
        <div>
          <span class="form-label">ì„œë¸Œì„œë¹„ìŠ¤ëª…</span> <input type="text" id="sub-service"/>
        </div>
        <button onclick="handleCLickGtmTagging()">ì½”ë“œë§Œë“¤ê¸°</button>
      </div>
      <div class="module__code">
        <textarea id="result__1"></textarea>
        <button onclick="handleCopy('1')">ì½”ë“œ ë³µì‚¬</button>
      </div>
    </div>

    <hr />

    <!-- Tally -->
    <div class="module">
      <div class="module__form">
        <h2>[Tally]</h2>
        <div>
          <span class="form-label">tally ëª¨ë‹¬ url</span>
          <p class="form-desc">tally ëª¨ë‹¬ë§Œ ì˜¤í”ˆí•˜ëŠ” ê²½ìš°</p>
          <input type="text" id="tally-url1"/>
        </div>
        <button onclick="handleClickOpenTally()">ì½”ë“œë§Œë“¤ê¸°</button>
      </div>
      <div class="module__code">
        <textarea id="result__2-1"></textarea>
        <button onclick="handleCopy('2-1')">ì½”ë“œ ë³µì‚¬</button>
      </div>
    </div>

    <!-- Tally set data -->
    <div class="module">
      <div class="module__form">
        <div>
          <span class="form-label">tally ëª¨ë‹¬ url</span>
          <p class="form-desc">tally ëª¨ë‹¬ ì˜¤í”ˆ + ë°ì´í„° ì…ë ¥ ì¶”ê°€ í•„ìš”</p>
          <input type="text" id="tally-url2"/>
        </div>
        <div id="tally-set-data">
          <div class="form-label-wrap">
            <span class="form-label" style="flex: 1">ì‚½ì… ë°ì´í„°</span>
            <button style="width: 100px" onclick="handleClickAdd()">ì¶”ê°€</button>
          </div>
          <input type="text" class="set-data"/>
        </div>
        <button onclick="handleClickOpenTallyAndSetData()">ì½”ë“œë§Œë“¤ê¸°</button>
      </div>
      <div class="module__code">
        <textarea id="result__2-2"></textarea>
        <button onclick="handleCopy('2-2')">ì½”ë“œ ë³µì‚¬</button>
      </div>
    </div>

    <hr />

    <!--  -->
    <div class="module">
      <div class="module__form">
        <h2>[URL]</h2>
        <div>
          <span class="form-label">URL</span>
          <p class="form-desc">ì…ë ¥í•œ URLì´ ìƒˆ ì°½ìœ¼ë¡œ ì—´ë¦½ë‹ˆë‹¤.</p>
          <input type="text" id="form__3-1"/>
        </div>
        <button onclick="handleClickOpenInNewTab('3-1')">ì½”ë“œë§Œë“¤ê¸°</button>
      </div>
      <div class="module__code">
        <textarea id="result__3-1"></textarea>
        <button onclick="handleCopy('3-1')">ì½”ë“œ ë³µì‚¬</button>
      </div>
    </div>

    <div class="module">
      <div class="module__form">
        <div>
          <span class="form-label">URL</span>
          <p class="form-desc">ì…ë ¥í•œ URLì´ ê¸°ì¡´ ì°½ì— ì—´ë¦½ë‹ˆë‹¤.</p>
          <input type="text" id="form__3-2"/>
        </div>
        <button onclick="handleClickChangeLinkOfCurrentTab('3-2')">ì½”ë“œë§Œë“¤ê¸°</button>
      </div>
      <div class="module__code">
        <textarea id="result__3-2"></textarea>
        <button onclick="handleCopy('3-2')">ì½”ë“œ ë³µì‚¬</button>
      </div>
    </div>

    <hr />

    <!-- handleClickUrl -->
    <div class="module">
      <div class="module__form">
        <h2>[Home]</h2>
        <div>
          <span class="form-label">ì„œë¹„ìŠ¤ URL</span>
          <p class="form-desc">ì…ë ¥í•œ URLë¡œ ê´€ë¦¬ìí˜ì´ì§€ì—ì„œëŠ” ìƒˆì°½, ì‹ ê·œì„œë¹„ìŠ¤ì—ì„œëŠ” replace ë©ë‹ˆë‹¤.</p>
          <input type="text" id="new-service-url"/>
        </div>
        <button onclick="handleClickUrl()">ì½”ë“œë§Œë“¤ê¸°</button>
      </div>
      <div class="module__code">
        <textarea id="result__4-1"></textarea>
        <button onclick="handleCopy('4-1')">ì½”ë“œ ë³µì‚¬</button>
      </div>
    </div>

    <!-- handleChangeHomeCategory -->
    <div class="module">
      <div class="module__form">
        <div>
          <span class="form-label" style="width: 200px">í™ˆ íƒ­ pathname</span>
          <p class="form-desc">ì˜ˆì‹œ) https://snack24gd.imweb.me/service ì—ì„œ serviceë¥¼ ë„£ìœ¼ì‹œë©´ ë©ë‹ˆë‹¤.</p>
          <input type="text" id="home-tab-pathname"/>
        </div>
        <button onclick="handleChangeHomeCategory()">ì½”ë“œë§Œë“¤ê¸°</button>
      </div>
      <div class="module__code">
        <textarea id="result__4-2"></textarea>
        <button onclick="handleCopy('4-2')">ì½”ë“œ ë³µì‚¬</button>
      </div>
    </div>
  </div>
</div>

<script>
  function handleCopy(id) {
    window.navigator.clipboard.writeText(`${document.getElementById(`result__${id}`).value}`)
  }

  function handleCLickGtmTagging() {
    const service = document.getElementById("service").value
    const sub_service = document.getElementById("sub-service").value
    const select_position = document.querySelector('input[name="position"]:checked').value
    const select_button = document.querySelector('input[name="button"]:checked').value

    const text = `javascript: WEFUN.handleGtmTagging('beta_service', {
  'action': 'button',
  'serviceName': '${service}',
  'serviceSubName': '${sub_service}',
  'position': '${select_position}',
  'buttonName': '${select_button}'
});`
    document.getElementById("result__1").value = text
  }

  function handleClickOpenInNewTab(id) {
    const text = `javascript: WEFUN.handleOpenInNewTab('${document.getElementById(
        `form__${id}`).value}');`
    document.getElementById(`result__${id}`).value = text
  }

  function handleClickChangeLinkOfCurrentTab(id) {
    const text = `javascript: WEFUN.handleChangeLinkOfCurrentTab('${document.getElementById(
        `form__${id}`).value}');`
    document.getElementById(`result__${id}`).value = text
  }

  function handleClickOpenTally() {
    const tally_url = document.getElementById('tally-url1').value
    const text = `javascript: WEFUN.handleTally.openTally('${tally_url}');`
    document.getElementById('result__2-1').value = text
  }

  function handleClickOpenTallyAndSetData() {
    const tally_url = document.getElementById('tally-url2').value
    const inputs = document.getElementsByClassName('set-data')
    let valueText = `'${tally_url}'`
    for (let i = 0; i < inputs.length; i++) {
      const text = inputs[i].value
      if (text) {
        valueText += `, '${inputs[i].value}'`
      }
    }
    const text = `javascript: WEFUN.handleTally.openTallyAndSetData(${valueText});`
    document.getElementById('result__2-2').value = text
  }

  function handleClickUrl() {
    const service_url = document.getElementById('new-service-url').value
    const text = `javascript: WEFUN_HOME.handleClickUrl('${service_url}');`
    document.getElementById('result__4-1').value = text
  }

  function handleChangeHomeCategory() {
    const tab_pathname = document.getElementById('home-tab-pathname').value
    const text = `javascript: WEFUN_HOME.handleChangeHomeCategory('${tab_pathname}');`
    document.getElementById('result__4-2').value = text
  }

  let id = 1;

  function handleClickAdd() {
    const parent = document.getElementById(`tally-set-data`);

    const input = document.createElement('input');
    input.type = 'text'
    input.classList.add('set-data')

    parent.appendChild(input)
  }
</script>
</body>
</html>
